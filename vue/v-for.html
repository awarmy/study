<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Vue v-for SORT && SEARCH</title>
</head>
<body>
    <div id="app" class="app">
        <ul>
            <Li v-for="(item,index) in filterLottery" v-bind:key="item.id">{{item.id}}--{{item.name}}--{{item.expires_date}} </Li>
        </ul>
        <button v-on:click="sortAsc">升序</button>
        <button v-on:click="sortDesc">降序</button>
        <button v-on:click="sortDefault">默认</button>
        <h1><input type="text" v-model="keyword" placeholder="请输入搜索名称"></h1>
        
        <ul></ul>
    </div>
<script src="../vue.js"></script>
<!--script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script-->
<script src="../axios.min.js"></script>
<script>
var app = new Vue({
    el:'#app', //挂载点
    data() {
        return{
            info:'Hello World!',
            list: [{ "id": "1", "name": "\u9f20\u6807\u57ab", "openid": "openid_test", "expires": "1574956818", "expires_date": "2019-11-29 00:00:18", "mobile": "", "uname": "", "uaddress": "", "active": "2019-11-29 19:45:08", "type": "E", "today": "20191129", "sid": "0" }, { "id": "2", "name": "\u906e\u9633\u524d\u6863", "openid": "", "expires": "1574957593", "expires_date": "2019-11-29 00:13:13", "mobile": "", "uname": "", "uaddress": "", "active": null, "type": "C", "today": "20191129", "sid": "0" }, { "id": "3", "name": "\u9f20\u6807\u57ab", "openid": "", "expires": "1574958424", "expires_date": "2019-11-29 00:27:04", "mobile": "", "uname": "", "uaddress": "", "active": null, "type": "E", "today": "20191129", "sid": "0" }, { "id": "4", "name": "\u9f20\u6807\u57ab", "openid": "", "expires": "1574959088", "expires_date": "2019-11-29 00:38:08", "mobile": "", "uname": "", "uaddress": "", "active": null, "type": "E", "today": "20191129", "sid": "0" }, { "id": "5", "name": "\u9f20\u6807\u57ab", "openid": "", "expires": "1574959974", "expires_date": "2019-11-29 00:52:54", "mobile": "", "uname": "", "uaddress": "", "active": null, "type": "E", "today": "20191129", "sid": "0" }, { "id": "6", "name": "\u9f20\u6807\u57ab", "openid": "", "expires": "1574960509", "expires_date": "2019-11-29 01:01:49", "mobile": "", "uname": "", "uaddress": "", "active": null, "type": "E", "today": "20191129", "sid": "0" }, { "id": "7", "name": "\u5c0f\u7c73\u53f0\u706f", "openid": "", "expires": "1574960528", "expires_date": "2019-11-29 01:02:08", "mobile": "", "uname": "", "uaddress": "", "active": null, "type": "B", "today": "20191129", "sid": "0" }, { "id": "8", "name": "\u9f20\u6807\u57ab", "openid": "", "expires": "1574961857", "expires_date": "2019-11-29 01:24:17", "mobile": "", "uname": "", "uaddress": "", "active": null, "type": "E", "today": "20191129", "sid": "0" }, { "id": "9", "name": "\u9f20\u6807\u57ab", "openid": "", "expires": "1574962558", "expires_date": "2019-11-29 01:35:58", "mobile": "", "uname": "", "uaddress": "", "active": null, "type": "E", "today": "20191129", "sid": "0" }, { "id": "10", "name": "\u5145\u7535\u6696\u624b\u5b9d", "openid": "", "expires": "1574963296", "expires_date": "2019-11-29 01:48:16", "mobile": "", "uname": "", "uaddress": "", "active": null, "type": "D", "today": "20191129", "sid": "0" }],
            keys:[],
            keyword:"",
            orderType:0
        }
    },
    mounted: function (){
        this.keys = this.list.slice(0);
    },
    computed:{
        filterLottery:function(){
            var arr = this.list.slice(0);
            this.keyword = this.keyword.trim();
            if(this.keyword){
                arr = this.list.filter(l=>l.name.indexOf(this.keyword)!==-1);
            }
            if(this.orderType>0){
                arr.sort((a,b)=>{
                    if (this.orderType === 1)
                        return a.id - a.id ;
                    else if (this.orderType === 2)
                        return b.id - a.id ;
                })
            }
            return arr;
        }
    },
    methods:{
        sortAsc:function(){
            this.orderType = 1;
        },
        sortDesc:function(){
            this.orderType = 2;
        },
        sortDefault:function(){
            this.orderType = 0;
        }
    }
})
</script>
</body>
</html>